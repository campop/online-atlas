
#onlineatlas .mapcontainer {position: relative; margin-bottom: 15px; width: auto; height: 700px;}
#onlineatlas .map {width: 100%; height: 100%;}

/* Style (background layer) switcher */
#onlineatlas .styleswitcher.expandable {width: 48px; height: 48px; /* background-image set in JS, as path may not be reliable from CSS file */ background-position: 50% 50%; background-repeat: no-repeat; display: block;}
#onlineatlas .styleswitcher.expandable ul {display: none;}
#onlineatlas .styleswitcher.expandable:hover {width: auto; height: auto; background-image: none !important; display: block; padding: 10px;}
#onlineatlas .styleswitcher.expandable:hover ul {display: block;}
#onlineatlas .styleswitcher ul {list-style: none; margin: 0; padding: 0;}

/* Side-by-side comparison */
#onlineatlas #comparebox {text-align: right; margin-bottom: 15px;}
#onlineatlas #comparebox span label {border: 1px solid #ccc; background-color: #f7f7f7; padding: 6px 10px; margin-left: 10px; font-size: 1.2em;}
#onlineatlas #comparebox span label, #onlineatlas #comparebox span label input[type=checkbox] {vertical-align: middle;}
#onlineatlas #comparebox #syncronisebutton {display: none;}
#onlineatlas #mapcontainers.sidebyside .mapcontainer {width: 49%;}
#onlineatlas #mapcontainers.sidebyside #mapcontainer0 {float: left;}
#onlineatlas #mapcontainers.sidebyside #mapcontainer1 {float: right;}
#onlineatlas #mapcontainers.sidebyside .mapcontainer .activearea {right: 0;}
#onlineatlas #mapcontainers.sidebyside .mapcontainer .styleswitcher, #onlineatlas #mapcontainers.sidebyside .mapcontainer .maplibregl-ctrl-attrib {margin-right: 10px;}
#onlineatlas #mapcontainers.sidebyside .mapcontainer .summary {left: 45px; top: 50px; width: 157px;}
#onlineatlas #mapcontainers.sidebyside .mapcontainer .geocoder input {width: 170px;}
#onlineatlas #mapcontainers.sidebyside .navigationpanel {height: 170px;}
#onlineatlas #mapcontainers.sidebyside nav {width: 310px;}
#onlineatlas #mapcontainers.sidebyside nav form {padding-top: 15px; padding-bottom: 15px;}
#onlineatlas #mapcontainers.sidebyside nav .radiobuttons {display: none;}	/* In side-by-side mode, the select is shown, and the radiobuttons hidden */
#onlineatlas #mapcontainers nav .select {display: none;}					/* In single map mode, the radiobuttons are shown, and the select hidden */
#onlineatlas #mapcontainers.sidebyside nav .select {display: block; max-width: 100%;}

/* Geocoder */
#onlineatlas .geocoder {position: absolute; top: 10px; left: 55px; z-index: 500;}
#onlineatlas .geocoder input {padding: 5px; color: #603; width: 250px;}
#onlineatlas .geocoder input.ui-autocomplete-loading {background: white url('../images/ui-anim_basic_16x16.gif') right center no-repeat;}
#onlineatlas .geocoder input, #onlineatlas .ui-autocomplete {border: 1px solid #eee; box-shadow: 5px 5px 10px 0px rgba(28,28,28,0.5);}
#onlineatlas .ui-autocomplete {background-color: white; z-index: 1000; width: 200px; list-style: none; margin-left: 0; padding-left: 0;}
#onlineatlas .ui-autocomplete li {list-style: none; margin-left: 0; padding-left: 0;}
#onlineatlas .ui-autocomplete li a {padding: 7px; display: block; color: #603;}
#onlineatlas .ui-autocomplete li a span {color: gray; font-size: 0.81em;}
body .campl-main-content .ui-autocomplete, body .campl-main-content .ui-autocomplete, body .campl-main-content .ui-autocomplete:hover {border: 0;}
#onlineatlas .ui-autocomplete li a.ui-state-active {cursor: pointer; background-color: #f7f7f7;}

/* Overlay */
#onlineatlas .maplibregl-ctrl-top-right {height: 100%; width: 330px; padding: 0; margin: 0; /* border: 1px solid gray; */}
#onlineatlas .maplibregl-ctrl-top-right .navigationpanel {margin: 0;}
#onlineatlas .navigationpanel {height: 100%;}
#onlineatlas #mapcontainers nav {width: 330px; height: 100%; background-color: #333; opacity: 0.92; color: white;}
#onlineatlas nav p.closebutton a {color: white;}
#onlineatlas .activearea {position: absolute; top: 0; left: 0; right: 330px; height: 100%;}
#onlineatlas .styleswitcher, #onlineatlas .maplibregl-ctrl-attrib {margin-right: 340px;}
#onlineatlas .summary {position: absolute; left: 320px;}
#onlineatlas #mapcontainers nav form {padding: 10px 10px 20px 15px;}
#onlineatlas #mapcontainers nav .yearrangecontrol {margin-top: 10px; width: 100%; padding-top: 5px; height: 55px; background-color: #666; touch-action: none;}
#onlineatlas #mapcontainers nav .yearrangecontrol input {touch-action: none;}
#onlineatlas #mapcontainers nav form h3 {margin: 10px 0 2px;}
#onlineatlas #mapcontainers nav form a {color: white; text-decoration: none;}
#onlineatlas #mapcontainers nav form #variations {margin-top: 5px;}
#onlineatlas #mapcontainers nav form #variations span {display: inline-block;}	/* Firefox requires this to avoid overflow of containing spans with white-space: nowrap */
#onlineatlas #mapcontainers nav form #variations span label {padding: 4px 6px; border: 1px solid #666; margin-right: 10px;}
#onlineatlas #mapcontainers nav form #variations span input, #onlineatlas #mapcontainers nav form #variations span label {vertical-align: middle; display: inline; white-space: nowrap; line-height: 32px;}

/* Close button */
#onlineatlas p.closebutton a {float: right; padding: 10px; text-decoration: none; border: 0;}
#onlineatlas p.closebutton a:hover {background-color: transparent;}

/* Controls */
#onlineatlas #mapcontainers nav form div {border-radius: 4px; width: 100%;}
#onlineatlas #mapcontainers nav form div.radiobuttons {padding-left: 3px;}
#onlineatlas #mapcontainers nav form div.radiobuttons div.field:hover {background-color: #666;}
#onlineatlas #mapcontainers nav form label {padding-left: 5px; display: inline-block; width: 280px; margin: 0;}

/* Unavailable entries */
#onlineatlas input[type="radio"].unavailable, #onlineatlas label.unavailable {opacity: 0.5;}
#onlineatlas option.unavailable {color: #bbb;}

/* Overflow for nav */
#onlineatlas #mapcontainers nav {overflow-y: auto; overflow-x: hidden;}
#onlineatlas #mapcontainers nav .radiobuttons label {width: 90%;}

/* Expandable menu */
#onlineatlas #mapcontainers nav form div.radiobuttons {margin-top: 1em;}
#onlineatlas #mapcontainers nav form div.radiobuttons.expandable .fieldgroup {display: none;}
#onlineatlas #mapcontainers nav form div.radiobuttons h4 {margin-top: 0.6em; margin-bottom: 0.4em;}
#onlineatlas #mapcontainers nav form div.radiobuttons.expandable h4 {margin-top: 1.2em; cursor: pointer;}
#onlineatlas #mapcontainers nav form div.radiobuttons h4 i {margin-left: 2px; transition-duration: 0.4s;}

/* Year range */
#onlineatlas #mapcontainers nav form input[type="range"] {display: block; margin: 0 auto; /* width calculated in JS/CSS */}
#onlineatlas ul.rangelabels {width: 100%; margin: 6px 0 0 0; padding: 0; height: 10px; position: relative; top: -5px; white-space: nowrap;}
#onlineatlas ul.rangelabels li {/* width calculated in js */ font-size: 0.87em; display: inline-block; text-align: center; margin: 0; padding: 0; cursor: pointer;}
#onlineatlas ul.rangelabels li.selected {font-weight: bold; color: orange;}
#onlineatlas ul.rangelabels.smalllabels li {font-size: 0.69em; outline-right: 0; transform: rotate(-25deg);}	/* Outline used, to avoid adding extra space to the carefully-calculated sizings */

/* Export */
#onlineatlas p.export {float: right; border: 1px solid #ccc; border-radius: 4px; padding: 0 6px;}
#onlineatlas p.export a {color: white; display: inline-block; padding: 3px 5px; border: none;}
#onlineatlas p.export a:last-child {padding-left: 0px; padding-right: 6px;}
#onlineatlas p.export a:hover {text-decoration: none;}

/* Legend and summary */
#onlineatlas .info, #onlineatlas .navigationpanel {font: 14px/16px Verdana, Arial, Helvetica, sans-serif;}
#onlineatlas .info {padding: 15px 12px; background: white; background: rgba(255,255,255,0.8); box-shadow: 0 0 15px rgba(0,0,0,0.2); border-radius: 5px;}
#onlineatlas .info h4 {margin: 0 0 5px; color: #777;}
#onlineatlas .legend {width: 170px; text-align: left; line-height: 18px; color: #555;}
#onlineatlas .legend a {color: black;}
#onlineatlas .legend table {border-collapse: collapse; width: 100%; margin-bottom: 10px;}
#onlineatlas .legend table td {background-color: transparent; padding: 0;}
#onlineatlas .legend table td:first-child {width: 16px;}
#onlineatlas .legend i {width: 16px; height: 16px; float: left; margin-right: 8px; opacity: 0.7; border: 1px solid white; /* Colour is overridden in JS */}
#onlineatlas .summary {width: 300px;}
#onlineatlas .legend #legendclose, #onlineatlas .legend #legendshow {margin: 0; padding: 0;}
#onlineatlas .legend p.closebutton a {padding: 0 0 10px 10px;}
#onlineatlas .legend.mobile #legendshow {display: none;}
#onlineatlas .legend.mobile.minimised #legendshow {display: block;}
#onlineatlas .legend.mobile.minimised #legendclose {display: none;}
#onlineatlas .legend.mobile.minimised #legenddetail {display: none;}

/* More details box */
#onlineatlas a.moredetails {color: white; background-color: #111; font-size: 0.83em; border-radius: 5px; padding: 2px;}
#onlineatlas #aboutfields {display: none;}
body .vex.vex-theme-plain.wider .vex-content {width: 75%; padding: 25px; min-height: 300px;}
body /* vex needs to be attached to body as otherwise is buggy */ #moredetailsboxcontent {max-height: 500px; overflow-y: scroll;}

/* Popups (adjustments to emulate Leaflet.js) - see https://github.com/mapbox/mapbox-gl-js/issues/8368 */
@keyframes fadein {from {opacity: 0;} to {opacity: 1;}}
#onlineatlas .maplibregl-popup {animation: fadein 0.2s;}
#onlineatlas .maplibregl-popup-content {max-width: 300px; min-width: 50px; border-radius: 12px; padding: 13px 19px; box-shadow: 0 3px 14px rgba(0,0,0,0.4); min-width: 300px; font: inherit;}
#onlineatlas .maplibregl-popup-close-button {font-size: 16px; font-family: Tahoma, Verdana, sans-serif; color: #c3c3c3; font-weight: bold;}
#onlineatlas .maplibregl-popup-close-button:hover {color: #999; background-color: white; border-top-right-radius: 12px;}
#onlineatlas .maplibregl-popup .maplibregl-map {line-height: 1.4;}

/* Popup styling */
#onlineatlas .map .maplibregl-popup {min-width: 350px;}
#onlineatlas table#chart {table-layout: fixed; width: 100%;}
#onlineatlas table#chart tr:first-child td {padding-bottom: 1em;}
#onlineatlas table#chart td:first-child {width: 170px;}
#onlineatlas table#chart tr.RAW_TFR td {padding-top: 1em;}
#onlineatlas table#chart tr.RAW_TFR td, #onlineatlas table#chart tr.EBS_TFR td {color: #603;}

/* Tooltips */
#onlineatlas .ui-tooltip.moredetails {background-color: crimson; color: white;}

/* Loading spinner */
#onlineatlas #loading {position: absolute; width: 50px; height: 50px; top: 180px; left: 3px; z-index: 500;}

/* Static pages */
#onlineatlas img.resource {padding: 2px; box-shadow: 4px 4px 25px #aaa; margin-bottom: 10px;}

/* Mobile styles; see: https://www.paintcodeapp.com/news/ultimate-guide-to-iphone-resolutions */
#onlineatlas #nav-mobile {display: none;}
@media only screen and (min-width: 320px) and (max-width: 768px) {
	#onlineatlas #nav-mobile {display: block; cursor: pointer; position: absolute; z-index: 999; top: 10px; left: 5px; background: white url('../images/hamburger.svg') no-repeat center center; opacity: 0.9; height: 10px; width: 10px; padding: 17px; border-radius: 16px; box-shadow: 5px 5px 5px #aaa;}
	#onlineatlas .maplibregl-ctrl-top-right {z-index: 999;}
	#onlineatlas #mapcontainers nav {display: none;}	/* Default, toggled in JS */
	#onlineatlas #logo, #onlineatlas #comparebox, #onlineatlas p.export, #onlineatlas .summary, #onlineatlas .ui-tooltip {display: none;}
	#onlineatlas .maplibregl-ctrl-fullscreen, #onlineatlas .maplibregl-ctrl-zoom-in, #onlineatlas .maplibregl-ctrl-zoom-out, #onlineatlas .maplibregl-ctrl-compass {display: none;}
	#onlineatlas .maplibregl-ctrl-top-left {padding-top: 40px;}
	#onlineatlas .geocoder {top: 14px; left: 65px; right: 25px;}
	#onlineatlas .geocoder input {width: 100%;}
	#onlineatlas input[name="location"] {font-size: 11px;}
	#onlineatlas #nav0 ul.rangelabels li {font-size: 65%;}
	#onlineatlas .activearea {right: 0;}
	#onlineatlas .map .maplibregl-popup {min-width: 200px; max-width: 90%;}
	#onlineatlas table#chart td:first-child {width: auto;}
	#onlineatlas .info.legend {padding: 10px;}
	#onlineatlas .styleswitcher, #onlineatlas .maplibregl-ctrl-attrib {margin-right: 10px;}
}
